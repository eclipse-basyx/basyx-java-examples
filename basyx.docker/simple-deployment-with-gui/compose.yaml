services:
  registry:
    image: eclipsebasyx/aas-registry:1.2.0-SNAPSHOT-CORS
    ports:
        - 8082:4000
    environment:
        - basyxregistry_registry_backend=InMemory
        - basyxcontext_contextpath=/registry
        - basyxcontext_contextport=4000
        - basyxcontext_accesscontrolalloworigin=http://localhost:8080
    container_name: registry

  aas:
    image: eclipsebasyx/aas-server:1.2.0-SNAPSHOT-CORS
    container_name: aas
    ports:
        - 4001:4001
    environment:
        - basyxaas_registry_path=http://registry:4000/registry/
        - basyxaas_aas_backend=InMemory
        - basyxcontext_contextpath=/aasServer
        - basyxcontext_contextport=4001
        - basyxaas_aas_source=aasx/01_Festo.aasx
        - waiting_for=[{"host":"registry","port":"4000"}]

  gui: 
    image: eclipsebasyx/aas-gui:v220729
    container_name: aasGui 
    ports:
        - 8080:8080
